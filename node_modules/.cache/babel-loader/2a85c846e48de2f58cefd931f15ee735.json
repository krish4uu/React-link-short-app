{"ast":null,"code":"import _slicedToArray from\"/Users/krish/Desktop/react-link-short-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useUrls}from\"./url-context\";import{URL_REGEX,API_URL}from\"./Utility\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCopy}from\"@fortawesome/free-solid-svg-icons\";import Particle from\"./Particle\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Form(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useUrls=useUrls(),dispatch=_useUrls.dispatch,state=_useUrls.state;var urls=state.urls;var handleSubmit=function handleSubmit(e){e.preventDefault();if(isUrlValid(url)){fetchShortUrl(url);setUrl(\"\");}else{alert(\"Please enter correct url\");}};var isUrlValid=function isUrlValid(url){return URL_REGEX.test(url);};var fetchShortUrl=function fetchShortUrl(url){fetch(\"\".concat(API_URL,\"?url=\").concat(url)).then(function(res){return res.json();}).then(function(result){dispatch({type:\"STORE_URL\",url:result.result.short_link});},function(error){alert(error.error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsx(Particle,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"input\",type:\"text\",placeholder:\"Past url\",value:url,onChange:function onChange(e){return setUrl(e.target.value);}})}),/*#__PURE__*/_jsx(\"input\",{id:\"button\",type:\"submit\",value:\"Submit\"})]}),state.urls.length>0&&urls.map(function(url,index){return/*#__PURE__*/_jsx(\"div\",{className:\"data-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"data-wrapper\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"data-link\",children:url},index),/*#__PURE__*/_jsx(\"button\",{className:\"data-button\",onClick:function onClick(){return navigator.clipboard.writeText(url);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCopy})})]})});})]})]});}","map":{"version":3,"sources":["/Users/krish/Desktop/react-link-short-app/src/Form.js"],"names":["React","useState","useUrls","URL_REGEX","API_URL","FontAwesomeIcon","faCopy","Particle","Form","url","setUrl","dispatch","state","urls","handleSubmit","e","preventDefault","isUrlValid","fetchShortUrl","alert","test","fetch","then","res","json","result","type","short_link","error","target","value","length","map","index","navigator","clipboard","writeText"],"mappings":"+HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,eAAxB,CACA,OAASC,SAAT,CAAoBC,OAApB,KAAmC,WAAnC,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,MAAT,KAAuB,mCAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAC7B,cAAsBP,QAAQ,CAAC,EAAD,CAA9B,wCAAOQ,GAAP,eAAYC,MAAZ,eACA,aAA4BR,OAAO,EAAnC,CAAQS,QAAR,UAAQA,QAAR,CAAkBC,KAAlB,UAAkBA,KAAlB,CACA,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACC,IAAnB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACA,GAAIC,UAAU,CAACR,GAAD,CAAd,CAAqB,CACnBS,aAAa,CAACT,GAAD,CAAb,CACAC,MAAM,CAAC,EAAD,CAAN,CACD,CAHD,IAGO,CACLS,KAAK,CAAC,0BAAD,CAAL,CACD,CACF,CARD,CAUA,GAAMF,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACR,GAAD,CAAS,CAC1B,MAAON,CAAAA,SAAS,CAACiB,IAAV,CAAeX,GAAf,CAAP,CACD,CAFD,CAIA,GAAMS,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACT,GAAD,CAAS,CAC7BY,KAAK,WAAIjB,OAAJ,iBAAmBK,GAAnB,EAAL,CACGa,IADH,CACQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAGI,SAACG,MAAD,CAAY,CACVd,QAAQ,CAAC,CAAEe,IAAI,CAAE,WAAR,CAAqBjB,GAAG,CAAEgB,MAAM,CAACA,MAAP,CAAcE,UAAxC,CAAD,CAAR,CACD,CALL,CAMI,SAACC,KAAD,CAAW,CACTT,KAAK,CAACS,KAAK,CAACA,KAAP,CAAL,CACD,CARL,EAUD,CAXD,CAaA,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,KAAC,QAAD,IADF,cAEE,oCACE,cAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEd,YAAjC,wBACE,oCACE,cACE,EAAE,CAAC,OADL,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,UAHd,CAIE,KAAK,CAAEL,GAJT,CAKE,QAAQ,CAAE,kBAACM,CAAD,QAAOL,CAAAA,MAAM,CAACK,CAAC,CAACc,MAAF,CAASC,KAAV,CAAb,EALZ,EADF,EADF,cAUE,cAAO,EAAE,CAAC,QAAV,CAAmB,IAAI,CAAC,QAAxB,CAAiC,KAAK,CAAC,QAAvC,EAVF,GADF,CAcGlB,KAAK,CAACC,IAAN,CAAWkB,MAAX,CAAoB,CAApB,EACClB,IAAI,CAACmB,GAAL,CAAS,SAACvB,GAAD,CAAMwB,KAAN,CAAgB,CACvB,mBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,aAAK,SAAS,CAAC,cAAf,wBACE,WAAI,SAAS,CAAC,WAAd,UACGxB,GADH,EAA+BwB,KAA/B,CADF,cAIE,eACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAE,yBAAMC,CAAAA,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8B3B,GAA9B,CAAN,EAFX,uBAIE,KAAC,eAAD,EAAiB,IAAI,CAAEH,MAAvB,EAJF,EAJF,GADF,EADF,CAeD,CAhBD,CAfJ,GAFF,GADF,CAsCD","sourcesContent":["import React, { useState } from \"react\";\nimport { useUrls } from \"./url-context\";\nimport { URL_REGEX, API_URL } from \"./Utility\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCopy } from \"@fortawesome/free-solid-svg-icons\";\nimport Particle from \"./Particle\";\n\nexport default function Form() {\n  const [url, setUrl] = useState(\"\");\n  const { dispatch, state } = useUrls();\n  const urls = state.urls;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isUrlValid(url)) {\n      fetchShortUrl(url);\n      setUrl(\"\");\n    } else {\n      alert(\"Please enter correct url\");\n    }\n  };\n\n  const isUrlValid = (url) => {\n    return URL_REGEX.test(url);\n  };\n\n  const fetchShortUrl = (url) => {\n    fetch(`${API_URL}?url=${url}`)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          dispatch({ type: \"STORE_URL\", url: result.result.short_link });\n        },\n        (error) => {\n          alert(error.error);\n        }\n      );\n  };\n\n  return (\n    <div className=\"main-container\">\n      <Particle />\n      <div>\n        <form className=\"form\" onSubmit={handleSubmit}>\n          <label>\n            <input\n              id=\"input\"\n              type=\"text\"\n              placeholder=\"Past url\"\n              value={url}\n              onChange={(e) => setUrl(e.target.value)}\n            />\n          </label>\n          <input id=\"button\" type=\"submit\" value=\"Submit\" />\n        </form>\n\n        {state.urls.length > 0 &&\n          urls.map((url, index) => {\n            return (\n              <div className=\"data-container\">\n                <div className=\"data-wrapper\">\n                  <h3 className=\"data-link\" key={index}>\n                    {url}\n                  </h3>\n                  <button\n                    className=\"data-button\"\n                    onClick={() => navigator.clipboard.writeText(url)}\n                  >\n                    <FontAwesomeIcon icon={faCopy} />\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}